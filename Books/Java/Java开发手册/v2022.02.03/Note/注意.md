# 编程规约

## 命名风格

7. 抽象类 以 Abstract 或 Base 开头
    - 异常类以 Exception 结尾
    - 测试类以 Test 结尾

9. boolean 变量不加 is 前缀

10. 包名小写
    - 每一级只允许一个单词
    - 单数形式

12. 避免不规范的英文缩写

18. 枚举名带 Enum 后缀
    - 枚举成员名 大写, 单词间下划线分隔

19. Service 等接口层方法命名
    - 获取多个对象
        - list 前缀
        - 复数结尾
        - 举例: listObjects
    - 获取对象数量
        - count 前缀
        - 举例: countObject

## OOP 规约

7. Integer 判等也应使用 equals 方法
    - IntegerCache 外的 Integer 判等相当于 引用判等
    - Objects.equals

8. 货币类型均存储
    - 以最小单位存储
    - 整形

9. 浮点数判等
    - 方式1: Math.abs
    - 方式2: BigDecimal.compareTo

10. BigDecimal 判等
    - 使用 compareTo 而非 equals
        - compareTo 忽略精度 (1.0 等价于 1.00)
        - equals 不忽略精度 (1.0 不等价于 1.00)

12. BigDecimal 不能直接由 float 或 double 构造
    - 方式1: String 构造
    - 方式2: BigDecimal.valueOf 创建

13. POJO 属性字段要使用 包装类型, 由使用方进行 空引用 校验
    - 避免 空引用 与 默认值 含义冲突

14. POJO 的 默认属性值 设置
    - 应该在逻辑方设置, 而不是在 POJO 类定义中设置
        - 避免逻辑中对默认值的要求不一致

16. 构造方法中不应有初始化逻辑, 初始化逻辑应该在单独的初始化方法中

17. POJO 必须实现 toString()
    - 如果有基类, 必须先调用 super.toString()

18. 同一属性, 禁止同时存在 isA() 与 getA() 方法

19. String.split 字符串分隔多元素时, 校验元素数量
    - 如果有相邻的分隔符, 结果数组长度将小于 `分隔符数量-1`

20. 多个构造, 或多个同名方法, 放在一起, 便于阅读

21. 类内方法顺序
    1. public
    2. protected
    3. private
    4. getter / setter

22. setter 方法
    - 参数名与字段名一致
    - 方法内只赋值, 没逻辑

23. 在循环中拼接字符串, 应显示提前创建 StringBuilder
    - 避免在循环中 隐式 多次 创建 StringBuilder

24. 能用 final 时尽量用 final
    - 包括局部变量
    - final 类
    - final 方法

## 时期时间

1. pattern 中 应使用 y 而非 Y
    - yyyy 与 YYYY 含义不同
    - Y 的含义指当前周属于哪一年, 误用会存在跨年问题

2. 月 M
    - 分 m
    - 时
        - 24: H
        - 12: h

3. 时刻及时间差处理 使用 Instant 类

---
